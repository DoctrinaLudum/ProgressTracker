/* ==========================================================================
   1. LAYOUT GERAL
   ========================================================================== */

   body {
    display: flex;
    flex-direction: column;
    min-height: 100vh;
    /* background-color: #ffffff; /* Cor de fundo geral da página, se desejar */
}

main.container {
    flex: 1; /* Faz o conteúdo principal (main) ocupar o espaço restante */
}

/* ==========================================================================
  2. CABEÇALHO (Header)
  ========================================================================== */

.app-header {
    background-color: #f8f9fa; /* Cor de fundo (Bootstrap 'light') */
}

.app-header a.text-success {
    text-decoration: none;
}
.app-header a.text-success:hover {
    opacity: 0.9;
    text-decoration: none;
}

/* ==========================================================================
  3. RODAPÉ (Footer)
  ========================================================================== */

.app-footer {
    font-size: 0.9em;
    background-color: #f8f9fa;
    color: #36393b;
}

.app-footer a {
    color: #36393b;
    text-decoration: underline;
}

.app-footer a:hover {
    color: #ffee00;
    text-decoration: none;
}

.app-footer .bi-heart-fill {
    vertical-align: baseline;
}

/* ==========================================================================
  4. ÁREA DE RESULTADOS E TABELAS (#results-area)
  ========================================================================== */

#results-area .table > tbody > tr > td,
#results-area .table > thead > tr > th {
    padding-top: 0.6rem;
    padding-bottom: 0.6rem;
    vertical-align: middle;
}

#results-area .card .table-responsive {
    border-radius: var(--bs-border-radius);
    overflow: hidden;
}

#results-area .table > thead.bg-success-subtle > tr > th {
    background-color: transparent;
    border-color: inherit;
}

/* ==========================================================================
  5. INDICADORES E ELEMENTOS ESPECÍFICOS
  ========================================================================== */

.na-indicator {
    cursor: help;
    color: #6c757d;
    font-style: italic;
}

.accumulation-indicator-star {
    cursor: help;
    color: #fd7e14;
    font-weight: bold;
    vertical-align: super;
    font-size: 0.8em;
    margin-left: 2px;
}

/* ==========================================================================
  6. ESTILOS DA LOJA SAZONAL (Exemplo de Seção)
  ========================================================================== */

.currency-sfl {
    color: #E83E8C;
    font-weight: bold;
}

.currency-ticket {
    color: #198754;
    font-weight: bold;
}

.currency-broken_pillar {
    color: #6c757d;
    font-weight: bold;
}

/* ==========================================================================
  7. ESTILOS DE DESTAQUE DOS ITENS USADOS NA PROJEÇÃO
  ========================================================================== */

.unlock-path-item {
    border: 2px solid #fd7e14;
    opacity: 0.85;
    box-shadow: 0 0 8px rgba(253, 126, 20, 0.5);
    background-color: #fff3e8;
}

.item-selectable.border-primary.shadow {
    border-color: #0d6efd !important;
    opacity: 1 !important;
    box-shadow: 0 0.5rem 1rem rgba(0, 123, 255, 0.15) !important;
    background-color: #ffffff !important;
}

.unlock-item-marker {
    cursor: pointer;
}

.item-card.marked-for-unlock {
    background-color: #e0f2f7 !important;
}

/* ==========================================================================
  8. ESTILOS DA ABA BOUNTIES (Estilo Loja)
  ========================================================================== */

/* Container Grid para os cards de bounties */
.bounties-grid {
    display: grid;
    /* Ajuste minmax para largura mínima desejada antes de quebrar linha */
    grid-template-columns: repeat(auto-fit, minmax(90px, 1fr)); /* Ex: min 90px */
    gap: 0.8rem;
    padding: 0.5rem 0;
    justify-content: center; /* Centraliza o grid todo se ele não ocupar a largura total */
}

/* Estilo Individual do Card de Bounty */
.bounty-card {
    background-color: #ffffff;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
    display: flex;
    flex-direction: column;
    height: 120px;  /* <<< ALTURA FIXA DO CARD (Ajuste conforme necessário) */
    transition: box-shadow 0.2s ease-in-out, transform 0.2s ease-in-out; /* Adiciona transform à transição para suavidade */
    width: 100%;    /* Ocupa a largura da coluna do grid */
    overflow: hidden; /* Esconde conteúdo que transbordar */
}

.bounty-card:hover {
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    transform: translateY(-3px); /* Adiciona um leve "levantamento" no hover */
}

/* Corpo do Card de Bounty (para controlar padding e conteúdo flex) */
.bounty-card .card-body {
   padding: 0.5rem; /* Padding interno */
   display: flex;
   flex-direction: column;
   align-items: center; /* Centraliza itens horizontalmente */
   justify-content: center; /* Tenta centralizar conteúdo verticalmente */
   flex-grow: 1; /* Ocupa o espaço vertical disponível dentro do card */
   overflow: hidden; /* Esconde overflow dentro do body também */
}

/* Imagem do Requisito - AGORA COM TAMANHO FIXO */
.bounty-req-image {
    width: 40px;         /* <<< LARGURA FIXA DA IMAGEM (Ajuste se desejar) */
    height: 40px;        /* <<< ALTURA FIXA DA IMAGEM (Ajuste se desejar) */
    object-fit: contain;   /* Preenche o espaço, mantendo proporção e cortando excesso */
    display: block;      /* Mantém como bloco */
    margin-left: auto;   /* Centraliza horizontalmente */
    margin-right: auto;
    margin-bottom: 0.5rem; /* Espaço abaixo */
    background-color: #f8f9fa; /* Fundo para imagens transparentes/não carregadas */
    border-radius: 4px;       /* Cantos arredondados */
    flex-shrink: 0; /* Impede que encolha em contextos flex */
}

/* Título do Card (usando .bounty-req-name do seu HTML) */
.bounty-card .bounty-req-name {
    font-size: 0.8rem;   /* Tamanho da fonte */
    font-weight: 600;    /* Peso da fonte */
    color: #333;        /* Cor do texto */
    margin-top: 0;       /* Sem margem superior */
    margin-bottom: 0.25rem; /* Pequena margem inferior */
    width: 100%;         /* Ocupa largura total para centralizar */
    text-align: center;
    line-height: 1.2;    /* Altura da linha */
    /* Tratamento de texto longo (reticências em 2 linhas) */
    overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: 2; /* Limita a 2 linhas */
    line-clamp: 2; /* Propriedade padrão para compatibilidade futura */
    -webkit-box-orient: vertical;
    text-overflow: ellipsis;
    min-height: calc(2 * 1.2em); /* Garante espaço vertical para 2 linhas */
    flex-shrink: 0; /* Impede que encolha */
}

/* Parágrafo da Recompensa */
.bounty-reward {
    font-size: 0.75rem; /* Fonte um pouco menor */
    color: #e67e22;     /* Laranja */
    font-weight: 600;
    margin-top: auto;    /* Empurra para a parte inferior */
    margin-bottom: 0;    /* Sem margem inferior */
    width: 100%;         /* Ocupa largura total para centralizar */
    text-align: center;
    /* Tratamento texto longo (1 linha com reticências) */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    flex-shrink: 0; /* Impede que encolha */
}

/* Descrição do Card (se você adicionar uma) - Mantido */
.bounty-description {
    font-size: 0.9rem;
    color: #7f8c8d;
    margin-bottom: 1rem;
    flex-grow: 1; /* Ocupa espaço vertical (se houver) */
    line-height: 1.4;
    overflow: hidden; /* Esconde se for muito longa */
}

/* Detalhes (Status - se você adicionar) - Mantido e com tratamento de overflow */
.bounty-details {
    font-size: 0.8rem;
    color: #95a5a6;
    margin-top: auto; /* Empurra para baixo */
    margin-bottom: 0.5rem;
    width: 100%; /* Para text-align center */
    text-align: center;
    white-space: nowrap; /* Impede quebra de linha */
    overflow: hidden;
    text-overflow: ellipsis;
    flex-shrink: 0; /* Impede que encolha */
}

/* Estilos específicos para Status (mantidos como antes) */
.status-active, .status-available {
    color: #2ecc71; /* Verde */
    font-weight: bold;
}
.status-progress, .status-pending {
    color: #f39c12; /* Amarelo/Laranja */
    font-weight: bold;
}
.status-completed {
    color: #95a5a6; /* Cinza */
    font-weight: bold;
}

/* Ações (Botões - se você adicionar) - Mantido */
.bounty-actions {
    padding-top: 0.5rem;
    border-top: 1px solid #f0f0f0; /* Linha separadora opcional */
    display: flex;
    gap: 0.5rem;
    justify-content: center; /* Centraliza botões */
    margin-top: auto; /* Garante que fique na base */
    flex-shrink: 0; /* Impede que encolha */
}

/* --- FIM DOS ESTILOS DA ABA BOUNTIES --- */

/* ==========================================================================
   9. ESTILOS DA ABA CALENDARIO (Potential Season Calendar)
   ========================================================================== */

.calendar-table th,
.calendar-table td {
    text-align: center; 
    vertical-align: middle; 
}

.calendar-table .calendar-date-col {
    white-space: nowrap; 
    text-align: left; 
    padding-left: 0.5rem !important; 
}
.calendar-table th.calendar-date-col { 
    text-align: left;
}

.calendar-table .calendar-purchases-col .badge {
    display: block; 
    margin-bottom: 0.25rem; 
    text-align: center; 
}
.calendar-table .calendar-purchases-col .badge:last-child {
    margin-bottom: 0; 
}

.calendar-table td:has(span.text-danger.d-block) { 
    padding-top: 0.25rem; 
    padding-bottom: 0.25rem;
}
.calendar-table td span.text-danger.d-block {
     margin-bottom: 0.25rem; 
}
.calendar-table td span.text-danger.d-block:last-child {
     margin-bottom: 0;
}

#potential-calendar-tab-pane .table-bordered th,
#potential-calendar-tab-pane .table-bordered td {
    border-color: #dee2e6; 
}

#potential-calendar-tab-pane .table thead.table-dark th {
    background-color: #212529; 
    border-color: #32383e; 
}

#potential-calendar-tab-pane .badge { 
    font-size: 0.7rem;    
    padding: 0.3em 0.55em; 
    font-weight: 500;     
}

#potential-calendar-tab-pane [data-bs-toggle="tooltip"] {
    cursor: help;
}

.calendar-table .calendar-buffs-col {
    min-width: 130px; 
    white-space: pre-wrap; 
    text-align: left; 
}

/* === NOVAS REGRAS PARA CORES ALTERNADAS DA SEMANA === */
.calendar-table tr.week-even td {
    background-color: #d7f7de; /* Cinza bem claro (Bootstrap 'light') para semanas pares */
}
.calendar-table tr.week-odd td {
    background-color: #ffffff; /* Branco para semanas ímpares */
}

/* Opcional: Se você quiser que o hover do Bootstrap ainda funcione bem sobre essas cores */
.calendar-table tr.week-even:hover td,
.calendar-table tr.week-odd:hover td {
    background-color: #e9ecef; /* Cor de hover padrão do Bootstrap 'table-hover' ou uma de sua escolha */
}

/* Opcional: Se você tiver a classe 'table-striped' na sua <table> e quiser que ela
   seja sobrescrita pelas cores da semana, estas regras já devem fazer isso devido à especificidade.
   Se quiser remover completamente o efeito do table-striped para esta tabela específica,
   remova a classe 'table-striped' da tag <table> no _season_potential_calendar.html */

/* Ajuste para o destaque de dias com compras, caso a cor da semana o esconda */
/*.calendar-table tr.highlight-purchase-day td {
    /* Se a cor da semana for muito parecida com a table-light, 
       você pode precisar de um destaque mais forte aqui, por exemplo: */
    /* border-left: 3px solid #fd7e14; /* Uma borda laranja à esquerda */
    /* ou um fundo sutilmente diferente que se destaque da cor da semana */
    /* background-color: #fff3cd !important; /* Exemplo: Amarelo bem claro Bootstrap 'warning-subtle' */

    /* No entanto, a classe table-light aplicada na <tr> já deve ser suficiente.
       Se a cor de fundo de week-even/week-odd for mais forte, pode precisar do !important.
       Vamos manter a classe 'table-light fw-bold' na <tr> como está no HTML,
       e o CSS acima para week-even/odd vai definir o fundo base da linha.
       A classe table-light do bootstrap usa #fcfcfd, que é quase branco.
       Poderíamos definir um estilo mais explícito para highlight-purchase-day se necessário.
    */

.calendar-table tr.highlight-purchase-day.week-even td {
    background-color: #eef3f5; /* Um tom um pouco diferente para compra em semana par */
}
.calendar-table tr.highlight-purchase-day.week-odd td {
    background-color: #f0f8ff; /* AliceBlue, um tom diferente para compra em semana ímpar */
}

/* ==========================================================================
   (Nova Seção ou Adicionar à Seção de Abas Existente)
   10. ESTILOS DE SUB-ABAS
   ========================================================================== */

/* Estilo geral para a barra de navegação das sub-abas */
#token-sources-main-tab-pane .nav-pills {
    background-color: #f8f9fa; /* Um fundo cinza claro para a barra de sub-abas */
    padding: 0.5rem;
    border-radius: 0.25rem;
    margin-bottom: 1rem !important; /* Garante a margem inferior */
}

/* Estilo para os links (botões) das sub-abas */
#token-sources-main-tab-pane .nav-pills .nav-link {
    color: #495057; /* Cor de texto mais escura para links não ativos */
    background-color: transparent;
    border: 1px solid transparent; /* Para manter o layout consistente com o ativo */
    margin-right: 0.25rem;
    padding: 0.5rem 0.8rem; /* Ajuste o padding se necessário */
    font-size: 0.9em; /* Ligeiramente menor que as abas principais */
}

/* Estilo para a sub-aba ATIVA */
#token-sources-main-tab-pane .nav-pills .nav-link.active {
    color: #fff; /* Texto branco */
    background-color: #7fb1fcc5; /* Azul primário do Bootstrap (mesma cor da aba principal ativa) */
    /* OU uma cor secundária: */
    /* background-color: #5bc0de; */ /* Exemplo: um azul mais claro (Bootstrap 'info') */
    /* background-color: #6c757d; */ /* Exemplo: um cinza (Bootstrap 'secondary') */
    border-color: #0d6efd; /* Borda da mesma cor do fundo */
}

/* Estilo para o hover nas sub-abas não ativas */
#token-sources-main-tab-pane .nav-pills .nav-link:not(.active):hover {
    background-color: #e9ecef; /* Cinza claro para hover */
    border-color: #dee2e6;
}

/* Estilo para o conteúdo do painel das sub-abas */
#token-sources-main-tab-pane .tab-content {
    padding-top: 1rem; /* Espaço entre as sub-abas e o conteúdo delas */
}

/* Estilo para a ABA PRINCIPAL ATIVA */
#analysisTabs .nav-link.active {
    color: #fff; /* Texto branco */
    background-color: #0d6efd; /* Azul primário do Bootstrap */
    border-color: #0d6efd #0d6efd #fff; /* Ajusta as bordas para o efeito de aba "levantada" */
}

/* Garante que os links das abas principais não ativos tenham a cor padrão */
#analysisTabs .nav-link {
    color: #0d6efd; /* Cor de link azul padrão do Bootstrap */
}

#analysisTabs .nav-link:not(.active):hover {
    border-color: #e9ecef #e9ecef #dee2e6; /* Cor de borda padrão do Bootstrap para hover */
    isolation: isolate; /* Necessário para o z-index funcionar corretamente com a borda da aba ativa */
}