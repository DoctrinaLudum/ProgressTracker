{# templates/_calendar_potential_content.html #}
<h3 class="text-info mb-3">
    <i class="bi bi-calendar-stars me-2"></i>Calendário de Potencial Máximo de <span class="badge bg-info">{{ token_name|default('Tokens Sazonais') }}</span>
</h3>
<p class="text-muted small">
    Este calendário mostra o potencial máximo de tickets. Arraste itens da loja abaixo para um dia no calendário
    para simular a sua compra e ver o impacto nos seus ganhos e bônus.
</p>

<div id="seasonal-calendar-interactive-area" class="row g-3"> {# Nova row para layout #}

    {# Coluna para o Calendário e Controles #}
    <div class="col-lg-8 col-md-7">
        <div id="seasonal-calendar-controls" class="row align-items-center mb-3 gy-2">
            <div class="col-md-auto">
                <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" role="switch" id="vip-active-for-calendar-sim" checked>
                    <label class="form-check-label small" for="vip-active-for-calendar-sim">
                        Simular com Bônus VIP ativo?
                    </label>
                </div>
            </div>
            <div class="col-md-auto">
                <button id="load-calendar-btn" class="btn btn-info btn-sm">
                    <i class="bi bi-arrow-clockwise me-1"></i> Carregar/Atualizar Calendário
                </button>
            </div>
             <div class="col-md-auto">
                <button id="reset-calendar-sim-btn" class="btn btn-outline-warning btn-sm" title="Remove todas as compras simuladas e recarrega o calendário base.">
                    <i class="bi bi-eraser me-1"></i> Resetar Simulação
                </button>
            </div>
        </div>

        <div id="seasonal-calendar-container" class="table-responsive mb-3">
            <p id="calendar-loading-placeholder" class="text-muted fst-italic">
                Ajuste a opção VIP (se desejar) e clique em "Carregar/Atualizar Calendário" para visualizar.
            </p>
            {# O JavaScript irá popular esta área #}
        </div>

        <div id="seasonal-calendar-summary" class="mt-3 p-3 bg-light border rounded small">
            {# O JavaScript pode popular um resumo aqui #}
        </div>
    </div>

    {# Nova Coluna para o Painel de Itens da Loja Arrastáveis #}
    <div class="col-lg-4 col-md-5">
        <div class="sticky-top" style="top: 20px;"> {# Para manter o painel visível ao rolar #}
            <div class="card shadow-sm">
                <div class="card-header bg-light">
                    <h5 class="mb-0 fs-6 text-secondary"><i class="bi bi-shop-window me-1"></i> Itens da Loja (Arraste para o Calendário)</h5>
                </div>
                <div class="card-body" style="max-height: 70vh; overflow-y: auto;">
                    <div id="draggable-shop-items-panel">
                        <p class="text-muted small_italic">Carregando itens da loja...</p>
                        {# O JavaScript irá popular esta área com os itens arrastáveis #}
                    </div>
                </div>
                 <div class="card-footer small text-muted">
                    Arraste um item para um dia no calendário para simular sua aquisição.
                </div>
            </div>
        </div>
    </div>

</div>